{"version":3,"file":"static/js/337.e38809d3.chunk.js","mappings":"qLACA,GAAgB,gBAAkB,iC,SCgBlC,MAdA,WACE,OACE,gBAAKA,UAAWC,EAAAA,gBAAhB,UACE,SAAC,KAAD,CACEC,YAAY,UACZC,YAAY,IACZC,kBAAkB,OAClBC,MAAM,KACNC,SAAS,KAIhB,C,+ECdD,EAA4B,8BAA5B,EAAsE,8BAAtE,EAAkH,gCAAlH,EAA+J,+B,mBC8B/J,EA1BmB,SAAC,GAAe,IAAbC,EAAY,EAAZA,MACdC,GAAWC,EAAAA,EAAAA,MACXC,EAAQH,EAAMI,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAOC,EAAd,EAAcA,YAAd,OACtB,eAAad,UAAWC,EAAxB,UACE,UAAC,KAAD,CAAMc,MAAO,CAAEC,KAAMR,GAAYS,GAAE,kBAAaL,GAAhD,WACE,gBACEM,IACEJ,EAAW,8CACgCA,GACvCK,EAENC,IAAKP,EACLb,UAAWC,EACXoB,QAAQ,UAEV,eAAGrB,UAAWC,EAAd,UAAkCY,EAAlC,WAZKD,EADa,IAiBxB,OAAO,gBAAIZ,UAAWC,EAAf,UAAkCS,EAAlC,MACR,C,2KCxBD,EAA2B,6BAA3B,EAAqE,+BAArE,EAAuH,qCAAvH,EAAoL,0CAApL,EAAgP,oC,mBCkDhP,EA7CmB,SAAC,GAAkB,IAAhBY,EAAe,EAAfA,SACpB,GAA8BC,EAAAA,EAAAA,UAAS,IAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KAiBA,OACE,gBAAKzB,UAAWC,EAAhB,UACE,kBAAMD,UAAWC,EAAmBqB,SAbnB,SAAAI,GACnBA,EAAEC,iBACqB,KAAnBH,EAAQI,QAIZN,EAASE,GACTC,EAAW,IACXC,EAAEG,cAAcC,SALdC,EAAAA,GAAAA,MAAY,iCAMf,EAIG,WACE,oBAAQC,KAAK,SAAShC,UAAWC,EAAjC,WACE,SAAC,MAAD,CAAWgC,KAAM,MACjB,iBAAMjC,UAAWC,QAGnB,kBACED,UAAWC,EACX+B,KAAK,OACLE,KAAK,UACLC,aAAa,MACbC,WAAS,EACTC,MAAOb,EACPc,YAAY,gBACZC,SA/Ba,SAAAb,GACnBD,EAAWC,EAAEG,cAAcQ,MAAMG,cAClC,QAkCF,E,UCYD,EAhDmB,WACjB,OAA0BjB,EAAAA,EAAAA,UAAS,IAAnC,eAAOhB,EAAP,KAAckC,EAAd,KACA,GAAkClB,EAAAA,EAAAA,WAAS,GAA3C,eAAOmB,EAAP,KAAkBC,EAAlB,KACA,GAA0BpB,EAAAA,EAAAA,UAAS,MAAnC,eAAOqB,EAAP,KAAcC,EAAd,KAEA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAQF,EAAaG,IAAI,UAE/BC,EAAAA,EAAAA,YAAU,WACR,GAAKF,EAAL,CAGA,IAAMG,EAAU,mCAAG,6FACjBT,GAAa,GADI,mBAGYU,EAAAA,EAAAA,IAAgBJ,GAH5B,gBAGPK,EAHO,EAGPA,SACRb,GAAS,OAAIa,IACW,IAApBA,EAASC,SACXd,EAAS,IACTV,EAAAA,GAAAA,KAAW,kDAPE,kDAUfA,EAAAA,GAAAA,MAAY,KAAMyB,SAClBX,EAAS,KAAMW,SAXA,yBAafb,GAAa,GAbE,6EAAH,qDAgBhBS,GAjBC,CAkBF,GAAE,CAACH,EAAOL,IAQX,OACE,iBAAK5C,UAAU,YAAf,WACE,eAAIA,UAAU,YAAd,2BACA,SAAC,EAAD,CAAYsB,SATW,SAAA2B,GACzBD,EAAgB,CAAEC,MAAOA,IACzBR,EAAS,IACTI,EAAS,KACV,IAMItC,EAAMgD,OAAS,IAAK,SAACE,EAAA,EAAD,CAAYlD,MAAOA,IACvCmC,IAAa,SAACgB,EAAA,EAAD,IACbd,IAAS,2EAGf,C,yLCrDKe,E,QAAWC,EAAAA,OAAa,CAC5BC,QAAS,+BACTC,OAAQ,CACNC,QAAS,sCAIAC,EAAiB,mCAAG,WAAMC,GAAN,yFACRN,EAAST,IAAT,uBAAqC,CAC1DY,OAAQ,CACNG,KAAAA,KAH2B,uBACvBC,EADuB,EACvBA,KADuB,kBAMxBA,GANwB,2CAAH,sDASjBb,EAAe,mCAAG,WAAMJ,GAAN,yFACNU,EAAST,IAAT,eAA6B,CAClDY,OAAQ,CACNb,MAAAA,KAHyB,uBACrBiB,EADqB,EACrBA,KADqB,kBAMtBA,GANsB,2CAAH,sDASfC,EAAe,mCAAG,WAAMvD,GAAN,yFACN+C,EAAST,IAAT,iBAAuBtC,IADjB,uBACrBsD,EADqB,EACrBA,KADqB,kBAEtBA,GAFsB,2CAAH,sDAKfE,EAAe,mCAAG,WAAMxD,GAAN,yFACN+C,EAAST,IAAT,iBAAuBtC,EAAvB,aADM,uBACrBsD,EADqB,EACrBA,KADqB,kBAEtBA,GAFsB,2CAAH,sDAKfG,EAAe,mCAAG,WAAMzD,GAAN,yFACN+C,EAAST,IAAT,iBAAuBtC,EAAvB,aADM,uBACrBsD,EADqB,EACrBA,KADqB,kBAEtBA,GAFsB,2CAAH,qD","sources":["webpack://goit-react-hw-05-movies/./src/components/Loader/Loader.module.css?d03f","components/Loader/Loader.jsx","webpack://goit-react-hw-05-movies/./src/components/MoviesList/MoviesList.module.css?de3d","components/MoviesList/MoviesList.jsx","webpack://goit-react-hw-05-movies/./src/components/SearchForm/SearchForm.module.css?d6f1","components/SearchForm/SearchForm.jsx","pages/MoviesPage/MoviesPage.jsx","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"ContainerLoader\":\"Loader_ContainerLoader__ySsrp\"};","import { RotatingLines } from 'react-loader-spinner';\nimport styles from './Loader.module.css';\n\nfunction Loader() {\n  return (\n    <div className={styles.LoaderContainer}>\n      <RotatingLines\n        strokeColor=\"#3194d1\"\n        strokeWidth=\"5\"\n        animationDuration=\"0.75\"\n        width=\"50\"\n        visible={true}\n      />\n    </div>\n  );\n}\n\nexport default Loader;\n","// extracted by mini-css-extract-plugin\nexport default {\"trendList\":\"MoviesList_trendList__qw6Iw\",\"trendItem\":\"MoviesList_trendItem__B5uZ5\",\"moviePoster\":\"MoviesList_moviePoster__feY6F\",\"movieTitle\":\"MoviesList_movieTitle__CxO8p\"};","import PropTypes from 'prop-types';\nimport { useLocation, Link } from 'react-router-dom';\nimport styles from './MoviesList.module.css';\nimport defaultImg from '../../images/default_poster.jpg';\n\nconst MoviesList = ({ films }) => {\n  const location = useLocation();\n  const items = films.map(({ id, title, poster_path }) => (\n    <li key={id} className={styles.trendItem}>\n      <Link state={{ from: location }} to={`/movies/${id}`}>\n        <img\n          src={\n            poster_path\n              ? `https://image.tmdb.org/t/p/original/${poster_path}`\n              : defaultImg\n          }\n          alt={title}\n          className={styles.moviePoster}\n          loading=\"lazy\"\n        ></img>\n        <p className={styles.movieTitle}>{title} </p>\n      </Link>\n    </li>\n  ));\n  return <ul className={styles.trendList}>{items} </ul>;\n};\n\nMoviesList.propTypes = {\n  films: PropTypes.array,\n};\n\nexport default MoviesList;\n","// extracted by mini-css-extract-plugin\nexport default {\"formWrap\":\"SearchForm_formWrap__MENhB\",\"SearchForm\":\"SearchForm_SearchForm__jbIQn\",\"SearchFormButton\":\"SearchForm_SearchFormButton__ROHLz\",\"SearchFormButtonLabel\":\"SearchForm_SearchFormButtonLabel__D0dwe\",\"SearchFormInput\":\"SearchForm_SearchFormInput__jntvc\"};","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { FaSistrix } from 'react-icons/fa';\nimport styles from './SearchForm.module.css';\nimport { toast } from 'react-toastify';\n\nconst SearchForm = ({ onSubmit }) => {\n  const [request, setRequest] = useState('');\n\n  const handleChange = e => {\n    setRequest(e.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = e => {\n    e.PreventDefault();\n    if (request.trim() === '') {\n      toast.error('Please enter your search data.');\n      return;\n    }\n    onSubmit(request);\n    setRequest('');\n    e.currentTarget.reset();\n  };\n\n  return (\n    <div className={styles.formWrap}>\n      <form className={styles.SearchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={styles.SearchFormButton}>\n          <FaSistrix size={20} />\n          <span className={styles.SearchFormButtonLabel}></span>\n        </button>\n\n        <input\n          className={styles.SearchFormInput}\n          type=\"text\"\n          name=\"request\"\n          autoComplete=\"off\"\n          autoFocus\n          value={request}\n          placeholder=\"Search movies\"\n          onChange={handleChange}\n        />\n      </form>\n    </div>\n  );\n};\n\nSearchForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default SearchForm;\n","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nimport { getMovieByQuery } from '../../services/api';\nimport MoviesList from 'components/MoviesList/MoviesList';\nimport SearchForm from 'components/SearchForm/SearchForm';\nimport Loader from 'components/Loader/Loader';\nimport { toast } from 'react-toastify';\n\nconst MoviesPage = () => {\n  const [films, setFilms] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query');\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    }\n    const fetchMovie = async () => {\n      setIsLoading(true);\n      try {\n        const { response } = await getMovieByQuery(query);\n        setFilms([...response]);\n        if (response.length === 0) {\n          setFilms([]);\n          toast.warn('No search results . Please try something else');\n        }\n      } catch (error) {\n        toast.error(error.message);\n        setError(error.message);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchMovie();\n  }, [query, error]);\n\n  const handleSearchSubmit = query => {\n    setSearchParams({ query: query });\n    setFilms([]);\n    setError(null);\n  };\n\n  return (\n    <div className=\"container\">\n      <h1 className=\"mainTitle\">Search movie</h1>\n      <SearchForm onSubmit={handleSearchSubmit} />\n      {films.length > 0 && <MoviesList films={films} />}\n      {isLoading && <Loader />}\n      {error && <p>Something goes wrong. Please try again later.</p>}\n    </div>\n  );\n};\n\nexport default MoviesPage;\n","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n  params: {\n    api_key: 'c780801336e7f1f89f24f8fc75df6bab',\n  },\n});\n\nexport const getTrendingMovies = async page => {\n  const { data } = await instance.get(`/trending/movie/day?`, {\n    params: {\n      page,\n    },\n  });\n  return data;\n};\n\nexport const getMovieByQuery = async query => {\n  const { data } = await instance.get(`search/movie`, {\n    params: {\n      query,\n    },\n  });\n  return data;\n};\n\nexport const getMovieDetails = async id => {\n  const { data } = await instance.get(`/movie/${id}`);\n  return data;\n};\n\nexport const getMovieCredits = async id => {\n  const { data } = await instance.get(`/movie/${id}/credits`);\n  return data;\n};\n\nexport const getMovieReviews = async id => {\n  const { data } = await instance.get(`/movie/${id}/reviews`);\n  return data;\n};\n"],"names":["className","styles","strokeColor","strokeWidth","animationDuration","width","visible","films","location","useLocation","items","map","id","title","poster_path","state","from","to","src","defaultImg","alt","loading","onSubmit","useState","request","setRequest","e","PreventDefault","trim","currentTarget","reset","toast","type","size","name","autoComplete","autoFocus","value","placeholder","onChange","toLowerCase","setFilms","isLoading","setIsLoading","error","setError","useSearchParams","searchParams","setSearchParams","query","get","useEffect","fetchMovie","getMovieByQuery","response","length","message","MoviesList","Loader","instance","axios","baseURL","params","api_key","getTrendingMovies","page","data","getMovieDetails","getMovieCredits","getMovieReviews"],"sourceRoot":""}