"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[337],{2639:function(e,t,r){r.d(t,{Z:function(){return c}});var n=r(4691),a={ContainerLoader:"Loader_ContainerLoader__ySsrp"},s=r(184);var c=function(){return(0,s.jsx)("div",{className:a.LoaderContainer,children:(0,s.jsx)(n.s5,{strokeColor:"#3194d1",strokeWidth:"5",animationDuration:"0.75",width:"50",visible:!0})})}},9155:function(e,t,r){r.d(t,{Z:function(){return l}});var n=r(1087),a=r(7689),s="MoviesList_filmsList__elvRO",c="MoviesList_filmsItem__eH6vi",i="MoviesList_moviePoster__feY6F",o="MoviesList_movieTitle__CxO8p",u=r(6789),f=r(184),l=function(e){var t=e.films,r=(0,a.TH)(),l=t.map((function(e){var t=e.id,a=e.title,s=e.poster_path;return(0,f.jsx)("li",{className:c,children:(0,f.jsxs)(n.rU,{state:{from:r},to:"/movies/".concat(t),children:[(0,f.jsx)("img",{src:s?"https://image.tmdb.org/t/p/original/".concat(s):u,alt:a,className:i,loading:"lazy"}),(0,f.jsxs)("p",{className:o,children:[a," "]})]})},t)}));return(0,f.jsxs)("ul",{className:s,children:[l," "]})}},1337:function(e,t,r){r.r(t),r.d(t,{default:function(){return y}});var n=r(3433),a=r(5861),s=r(9439),c=r(4687),i=r.n(c),o=r(2791),u=r(1087),f=r(4390),l=r(9155),m=r(9135),p="SearchForm_formWrap__MENhB",h="SearchForm_searchForm__NsJpF",v="SearchForm_searchFormButton__Zv-9i",d="SearchForm_searchFormButtonLabel__0xEFI",_="SearchForm_searchFormInput__3mF-P",x=r(8174),g=r(184),w=function(e){var t=e.onSubmit,r=(0,o.useState)(""),n=(0,s.Z)(r,2),a=n[0],c=n[1];return(0,g.jsx)("div",{className:p,children:(0,g.jsxs)("form",{className:h,onSubmit:function(e){e.PreventDefault(),""!==a.trim()?(t(a),c(""),e.currentTarget.reset()):x.Am.error("Please enter your search data.")},children:[(0,g.jsxs)("button",{type:"submit",className:v,children:[(0,g.jsx)(m.Ozl,{size:20}),(0,g.jsx)("span",{className:d})]}),(0,g.jsx)("input",{className:_,type:"text",name:"request",autoComplete:"off",autoFocus:!0,value:a,placeholder:"Search movies",onChange:function(e){c(e.currentTarget.value.toLowerCase())}})]})})},b=r(2639),j=r(2033),y=function(){var e=(0,o.useState)([]),t=(0,s.Z)(e,2),r=t[0],c=t[1],m=(0,o.useState)(!1),p=(0,s.Z)(m,2),h=p[0],v=p[1],d=(0,o.useState)(null),_=(0,s.Z)(d,2),y=_[0],Z=_[1],S=(0,u.lr)(),k=(0,s.Z)(S,2),N=k[0],F=k[1],C=N.get("search");(0,o.useEffect)((function(){var e=function(){var e=(0,a.Z)(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,e.next=4,(0,f.Ph)(C);case 4:if(t=e.sent,r=t.response,c((0,n.Z)(r.results)),0!==r.length){e.next=12;break}return c([]),v(!1),x.Am.warn("No search results . Please try something else"),e.abrupt("return",Promise.reject(new Error("There is no movie with name ".concat(C))));case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),x.Am.warn("".concat(e.t0.message)),Z(e.t0.message);case 18:return e.prev=18,v(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[1,14,18,21]])})));return function(){return e.apply(this,arguments)}}();C&&e()}),[C,y]),(0,o.useEffect)((function(){r.length>20&&(0,j.l)()}),[r]);return(0,g.jsxs)("div",{className:"container",children:[(0,g.jsx)("h1",{className:"mainTitle",children:"Search movie"}),(0,g.jsx)(w,{onSubmit:function(e){C!==e&&(F({search:e}),c([]),Z(null))}}),r.length>0&&(0,g.jsx)(l.Z,{films:r}),h&&(0,g.jsx)(b.Z,{}),y&&(0,g.jsx)("p",{children:"Something goes wrong. Please try again later."})]})}},4390:function(e,t,r){r.d(t,{Df:function(){return i},Ph:function(){return o},TP:function(){return u},tx:function(){return l},zv:function(){return f}});var n=r(5861),a=r(4687),s=r.n(a),c=r(1912).Z.create({baseURL:"https://api.themoviedb.org/3",params:{api_key:"c780801336e7f1f89f24f8fc75df6bab"}}),i=function(){var e=(0,n.Z)(s().mark((function e(t){var r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.get("/trending/movie/day?",{params:{page:t}});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=(0,n.Z)(s().mark((function e(t){var r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.get("search/movie",{params:{query:t}});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=(0,n.Z)(s().mark((function e(t){var r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.get("/movie/".concat(t));case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,n.Z)(s().mark((function e(t){var r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.get("/movie/".concat(t,"/credits"));case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,n.Z)(s().mark((function e(t){var r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.get("/movie/".concat(t,"/reviews"));case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},2033:function(e,t,r){r.d(t,{l:function(){return n}});var n=function(){var e=document.querySelector("li").firstElementChild.getBoundingClientRect().height;window.scrollBy({top:3*e,behavior:"smooth"})}},6789:function(e,t,r){e.exports=r.p+"static/media/default_poster.3f9715169e330b10feb4.jpg"}}]);
//# sourceMappingURL=337.3e7f52ce.chunk.js.map