{"version":3,"file":"static/js/337.3e7f52ce.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/Loader/Loader.module.css?d03f","components/Loader/Loader.jsx","webpack://goit-react-hw-05-movies/./src/components/MoviesList/MoviesList.module.css?de3d","components/MoviesList/MoviesList.jsx","webpack://goit-react-hw-05-movies/./src/components/SearchForm/SearchForm.module.css?d6f1","components/SearchForm/SearchForm.jsx","pages/MoviesPage/MoviesPage.jsx","services/api.js","utils/smoothScroll.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"ContainerLoader\":\"Loader_ContainerLoader__ySsrp\"};","import { RotatingLines } from 'react-loader-spinner';\nimport styles from './Loader.module.css';\n\nfunction Loader() {\n  return (\n    <div className={styles.LoaderContainer}>\n      <RotatingLines\n        strokeColor=\"#3194d1\"\n        strokeWidth=\"5\"\n        animationDuration=\"0.75\"\n        width=\"50\"\n        visible={true}\n      />\n    </div>\n  );\n}\n\nexport default Loader;\n","// extracted by mini-css-extract-plugin\nexport default {\"filmsList\":\"MoviesList_filmsList__elvRO\",\"filmsItem\":\"MoviesList_filmsItem__eH6vi\",\"moviePoster\":\"MoviesList_moviePoster__feY6F\",\"movieTitle\":\"MoviesList_movieTitle__CxO8p\"};","import PropTypes from 'prop-types';\nimport { useLocation, Link } from 'react-router-dom';\nimport styles from './MoviesList.module.css';\nimport defaultImg from '../../images/default_poster.jpg';\n\nconst MoviesList = ({ films }) => {\n  const location = useLocation();\n  const items = films.map(({ id, title, poster_path }) => (\n    <li key={id} className={styles.filmsItem}>\n      <Link state={{ from: location }} to={`/movies/${id}`}>\n        <img\n          src={\n            poster_path\n              ? `https://image.tmdb.org/t/p/original/${poster_path}`\n              : defaultImg\n          }\n          alt={title}\n          className={styles.moviePoster}\n          loading=\"lazy\"\n        ></img>\n        <p className={styles.movieTitle}>{title} </p>\n      </Link>\n    </li>\n  ));\n  return <ul className={styles.filmsList}>{items} </ul>;\n};\n\nMoviesList.propTypes = {\n  films: PropTypes.array,\n};\n\nexport default MoviesList;\n","// extracted by mini-css-extract-plugin\nexport default {\"formWrap\":\"SearchForm_formWrap__MENhB\",\"searchForm\":\"SearchForm_searchForm__NsJpF\",\"searchFormButton\":\"SearchForm_searchFormButton__Zv-9i\",\"searchFormButtonLabel\":\"SearchForm_searchFormButtonLabel__0xEFI\",\"searchFormInput\":\"SearchForm_searchFormInput__3mF-P\"};","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { FaSistrix } from 'react-icons/fa';\nimport styles from './SearchForm.module.css';\nimport { toast } from 'react-toastify';\n\nconst SearchForm = ({ onSubmit }) => {\n  const [request, setRequest] = useState('');\n\n  const handleChange = e => {\n    setRequest(e.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = e => {\n    e.PreventDefault();\n    if (request.trim() === '') {\n      toast.error('Please enter your search data.');\n      return;\n    }\n    onSubmit(request);\n    setRequest('');\n    e.currentTarget.reset();\n  };\n\n  return (\n    <div className={styles.formWrap}>\n      <form className={styles.searchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={styles.searchFormButton}>\n          <FaSistrix size={20} />\n          <span className={styles.searchFormButtonLabel}></span>\n        </button>\n\n        <input\n          className={styles.searchFormInput}\n          type=\"text\"\n          name=\"request\"\n          autoComplete=\"off\"\n          autoFocus\n          value={request}\n          placeholder=\"Search movies\"\n          onChange={handleChange}\n        />\n      </form>\n    </div>\n  );\n};\n\nSearchForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default SearchForm;\n","import PropTypes from 'prop-types';\n\nimport { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nimport { getMovieByQuery } from '../../services/api';\n\nimport MoviesList from 'components/MoviesList/MoviesList';\nimport SearchForm from 'components/SearchForm/SearchForm';\nimport Loader from 'components/Loader/Loader';\nimport { smoothScroll } from '../../utils/smoothScroll';\nimport { toast } from 'react-toastify';\n\nconst MoviesPage = () => {\n  const [films, setFilms] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const search = searchParams.get('search');\n\n  useEffect(() => {\n    const fetchMovies = async () => {\n      setIsLoading(true);\n\n      try {\n        const { response } = await getMovieByQuery(search);\n        setFilms([...response.results]);\n        if (response.length === 0) {\n          setFilms([]);\n          setIsLoading(false);\n          toast.warn('No search results . Please try something else');\n\n          return Promise.reject(\n            new Error(`There is no movie with name ${search}`)\n          );\n        }\n      } catch (error) {\n        toast.warn(`${error.message}`);\n        setError(error.message);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    if (search) {\n      fetchMovies();\n    }\n  }, [search, error]);\n\n  useEffect(() => {\n    if (films.length > 20) {\n      smoothScroll();\n    }\n  }, [films]);\n\n  const handleSearchSubmit = searchText => {\n    if (search !== searchText) {\n      setSearchParams({ search: searchText });\n      setFilms([]);\n      setError(null);\n    }\n  };\n\n  return (\n    <div className=\"container\">\n      <h1 className=\"mainTitle\">Search movie</h1>\n      <SearchForm onSubmit={handleSearchSubmit} />\n      {films.length > 0 && <MoviesList films={films} />}\n      {isLoading && <Loader />}\n      {error && <p>Something goes wrong. Please try again later.</p>}\n    </div>\n  );\n};\n\nMoviesPage.propTypes = {\n  films: PropTypes.array.isRequired,\n};\n\nexport default MoviesPage;\n","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n  params: {\n    api_key: 'c780801336e7f1f89f24f8fc75df6bab',\n  },\n});\n\nexport const getTrendingMovies = async page => {\n  const { data } = await instance.get(`/trending/movie/day?`, {\n    params: {\n      page,\n    },\n  });\n  return data;\n};\n\nexport const getMovieByQuery = async query => {\n  const { data } = await instance.get(`search/movie`, {\n    params: {\n      query,\n    },\n  });\n  return data;\n};\n\nexport const getMovieDetails = async id => {\n  const { data } = await instance.get(`/movie/${id}`);\n  return data;\n};\n\nexport const getMovieCredits = async id => {\n  const { data } = await instance.get(`/movie/${id}/credits`);\n  return data;\n};\n\nexport const getMovieReviews = async id => {\n  const { data } = await instance.get(`/movie/${id}/reviews`);\n  return data;\n};\n","export const smoothScroll = () => {\n  const { height: cardHeight } = document\n    .querySelector('li')\n    .firstElementChild.getBoundingClientRect();\n  window.scrollBy({\n    top: cardHeight * 3,\n    behavior: 'smooth',\n  });\n};\n"],"names":["className","styles","strokeColor","strokeWidth","animationDuration","width","visible","films","location","useLocation","items","map","id","title","poster_path","state","from","to","src","defaultImg","alt","loading","onSubmit","useState","request","setRequest","e","PreventDefault","trim","currentTarget","reset","toast","type","size","name","autoComplete","autoFocus","value","placeholder","onChange","toLowerCase","setFilms","isLoading","setIsLoading","error","setError","useSearchParams","searchParams","setSearchParams","search","get","useEffect","fetchMovies","getMovieByQuery","response","results","length","Promise","reject","Error","message","smoothScroll","searchText","MoviesList","Loader","instance","axios","baseURL","params","api_key","getTrendingMovies","page","data","query","getMovieDetails","getMovieCredits","getMovieReviews","cardHeight","document","querySelector","firstElementChild","getBoundingClientRect","height","window","scrollBy","top","behavior"],"sourceRoot":""}